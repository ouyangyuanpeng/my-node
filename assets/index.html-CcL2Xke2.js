import{_ as a,c as i,a as e,o as n}from"./app-DVUdVNdS.js";const l={};function t(p,s){return n(),i("div",null,s[0]||(s[0]=[e(`<h2 id="连接-mysql" tabindex="-1"><a class="header-anchor" href="#连接-mysql"><span>连接 mysql</span></a></h2><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 注意，如果是连接到另外的机器上，则需要加入一个参数-h机器IP --socket 指定mysql.sock目录</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mysql</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -h</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">hostnam</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">e</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -P</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">por</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">t</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -u</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">username</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p密码</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mysql</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -h</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 192.168.1.100</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -P</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 9306</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -uroot</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -proot</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>use：使用某个数据库。</li><li>show databases：显示所有数据库。</li><li>set names：设置字符集编码。</li></ul><h2 id="显示数据库中的表名和结构" tabindex="-1"><a class="header-anchor" href="#显示数据库中的表名和结构"><span>显示数据库中的表名和结构</span></a></h2><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">use</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 库名</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">show</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tables</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 显示表结果</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">desc</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sys_user</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="导出数据" tabindex="-1"><a class="header-anchor" href="#导出数据"><span>导出数据</span></a></h2><div class="language-mysql line-numbers-mode" data-ext="mysql" data-title="mysql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span># 导出整个数据库</span></span>
<span class="line"><span>mysqldump -uusername -ppassword -h hostname database_name &gt; /path/output_file.sql</span></span>
<span class="line"><span># 导出某个表</span></span>
<span class="line"><span>mysqldump -uusername -ppassword -h hostname database_name table_name &gt; output_file.sql</span></span>
<span class="line"><span># 导出数据结构不导出数据</span></span>
<span class="line"><span>mysqldump -uusername -ppassword -h hostname --no-data database_name &gt; output_file.sql</span></span>
<span class="line"><span># 导出数据不导出结构</span></span>
<span class="line"><span>mysqldump -uusername -ppassword -h hostname --no-create-info database_name &gt; output_file.sql</span></span>
<span class="line"><span>#导出的数据进行压缩，以减小文件大小。例如，使用 gzip：</span></span>
<span class="line"><span>mysqldump -uusername -ppassword -h hostname database_name | gzip &gt; output_file.sql.gz</span></span>
<span class="line"><span># 导出 SQL 格式的数据到指定文件，如下所示</span></span>
<span class="line"><span>mysqldump -uroot -ppassword database_name &gt; dump.sql</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>参数说明：</p><ul><li>​-u​: 指定 MySQL 用户名。</li><li>​-p​: 提示输入密码。后面可以不写密码</li><li>​-h​: 指定 MySQL 主机名。</li><li>​-P​: 指定 MySQL 端口</li><li>​database_name​: 要导出的数据库名称。</li><li>​output_file.sql​: 导出数据保存到的文件。</li><li>​--default-character-set=utf8mb4​</li></ul><p>如果是 window 下导出乱码就需要以下方式</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span> mysqldump -uroot -proot --hex-blob sjy-cabinet --result-file=D:\\mysql\\dump.sql</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>参数说明：<br> \`\`--hex-blob, 这个参数主要是为了把 ​BINARY, ​VARBINARY, ​BLOB, ​BIT 等类型导出为十六进制 ​</p><h2 id="导入数据" tabindex="-1"><a class="header-anchor" href="#导入数据"><span>导入数据</span></a></h2><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span># 建库</span></span>
<span class="line"><span>CREATE DATABASE \`sjy-cabinet-nb\` CHARACTER SET &#39;utf8mb4&#39; COLLATE &#39;utf8mb4_general_ci&#39;</span></span>
<span class="line"><span>use 数据库名;</span></span>
<span class="line"><span># 导入数据库脚本文件</span></span>
<span class="line"><span>source d:/mysql.sql;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-mysql line-numbers-mode" data-ext="mysql" data-title="mysql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>mysql -u 用户名 -p 要导入的数据库名 &lt; 数据库名.sql</span></span>
<span class="line"><span></span></span>
<span class="line"><span>mysql -u root -p db_doc &lt; 20210616.sql</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="用户相关" tabindex="-1"><a class="header-anchor" href="#用户相关"><span>用户相关</span></a></h2><p>删除用户</p><div class="language-mysql line-numbers-mode" data-ext="mysql" data-title="mysql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>DROP USER &#39;root&#39;@&#39;%&#39;;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>创建用户</p><div class="language-mysql line-numbers-mode" data-ext="mysql" data-title="mysql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span># 创建一个用户并且这个用户可以远程访问</span></span>
<span class="line"><span>CREATE USER &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;YourNewPassword&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 创建一个用户并且这个用户只能本地访问</span></span>
<span class="line"><span>CREATE USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;YourNewPassword&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 创建一个用户并且这个用户只能192.168.1.10 如果多个就多条或者使用通配符192.168.1.*</span></span>
<span class="line"><span>CREATE USER &#39;example_user&#39;@&#39;192.168.1.10&#39; IDENTIFIED BY &#39;password&#39;;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改用户</p><div class="language-mysql line-numbers-mode" data-ext="mysql" data-title="mysql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;root&#39;;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>设置权限</p><div class="language-mysql line-numbers-mode" data-ext="mysql" data-title="mysql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span></span></span>
<span class="line"><span># 设置权限</span></span>
<span class="line"><span>GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39; WITH GRANT OPTION;</span></span>
<span class="line"><span># 设置查询权限</span></span>
<span class="line"><span>GRANT SELECT ON database_name.* TO &#39;example_user&#39;@&#39;host&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 设置查询权限</span></span>
<span class="line"><span>GRANT SELECT ON my_database.* TO &#39;example_user&#39;@&#39;%&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 刷新权限</span></span>
<span class="line"><span>FLUSH PRIVILEGES;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>GRANT ALL PRIVILEGES: <ul><li>​GRANT​ 是 MySQL 中用于授予权限的命令。</li><li>​ALL PRIVILEGES​ 表示授予用户所有可能的权限，包括 SELECT​、INSERT​、UPDATE​、DELETE​、CREATE​、DROP​ 等。这意味着 root​ 用户将拥有对 MySQL 服务器中所有数据库和表的完全控制权。</li></ul></li><li>ON .: <ul><li>​ON​ 指定权限应用于哪些数据库和表。</li><li>​*.*​ 表示所有数据库中的所有表。第一个 *​ 表示所有数据库，第二个 *​ 表示所有表。例如，ON database_name.table_name​ 可以将权限限制在特定数据库的特定表上。</li></ul></li><li>TO &#39;root&#39;@&#39;%&#39;: <ul><li>​TO​ 指定授予权限的用户。</li><li>​&#39;root&#39;@&#39;%&#39;​ 表示用户名为 root​，且可以从任何主机（%​ 是通配符，表示任意 IP 地址）连接到 MySQL 服务器。如果你想限制到特定 IP 地址或主机名，可以将 %​ 替换为具体的 IP 地址或主机名（如 &#39;root&#39;@&#39;192.168.1.100&#39;​）。</li></ul></li><li>WITH GRANT OPTION: <ul><li>​WITH GRANT OPTION​ 允许 root​ 用户将他拥有的权限授予其他用户。这意味着 root​ 用户不仅可以执行所有操作，还可以为其他用户分配权限。</li></ul></li><li>​&#39;example_user&#39;@&#39;host&#39;​: 这是你要授予权限的用户。host​ 表示用户可以从哪个主机访问数据库。可以将 host​ 替换为特定 IP 地址或主机名，也可以使用 %​ 代表任意主机。</li></ul><h2 id="创建数据库" tabindex="-1"><a class="header-anchor" href="#创建数据库"><span>创建数据库</span></a></h2><div class="language-mysql line-numbers-mode" data-ext="mysql" data-title="mysql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>CREATE DATABASE \`cs\` CHARACTER SET &#39;utf8mb4&#39; COLLATE &#39;utf8mb4_general_ci&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,27)]))}const r=a(l,[["render",t],["__file","index.html.vue"]]),c=JSON.parse('{"path":"/%E6%95%B0%E6%8D%AE%E5%BA%93/q4ixe7t0/","title":"Mysql常用命令","lang":"zh-CN","frontmatter":{"title":"Mysql常用命令","createTime":"2024/11/14 10:21:26","permalink":"/数据库/q4ixe7t0/"},"headers":[],"readingTime":{"minutes":3.15,"words":946},"git":{"updatedTime":1734354118000,"contributors":[{"name":"oyyp","email":"513150165@qq.com","commits":3,"avatar":"https://avatars.githubusercontent.com/oyyp?v=4","url":"https://github.com/oyyp"}]},"filePathRelative":"notes/数据库/Mysql/Mysql命令.md","categoryList":[{"id":"4358b5","sort":10000,"name":"notes"},{"id":"324a5c","sort":10003,"name":"数据库"},{"id":"3aab05","sort":10004,"name":"Mysql"}],"bulletin":false}');export{r as comp,c as data};
